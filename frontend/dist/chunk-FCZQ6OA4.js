import{a as l,b as i}from"./chunk-I4CRZZPC.js";import{e as u,i as f,m as c,o as n}from"./chunk-KIRRPNFL.js";function v(r){return()=>new Promise(s=>{r.refreshToken().subscribe().add(s)})}var S=(()=>{class r{constructor(o){this.accountService=o}intercept(o,e){return e.handle(o).pipe(f(t=>{[401,403].includes(t.status)&&this.accountService.accountValue&&this.accountService.logout();let a=t&&t.error&&t.error.message||t.statusText;return console.error(t),u(a)}))}static{this.\u0275fac=function(e){return new(e||r)(n(i))}}static{this.\u0275prov=c({token:r,factory:r.\u0275fac})}}return r})();var I=(()=>{class r{constructor(o){this.accountService=o}intercept(o,e){let t=this.accountService.accountValue,a=t&&t.jwtToken,m=o.url.startsWith(l.apiUrl);return a&&m&&(o=o.clone({setHeaders:{Authorization:`Bearer ${t.jwtToken}`}})),e.handle(o)}static{this.\u0275fac=function(e){return new(e||r)(n(i))}}static{this.\u0275prov=c({token:r,factory:r.\u0275fac})}}return r})();function k(r,s){return o=>{let e=o.controls[r],t=o.controls[s];t.errors&&!t.errors.mustMatch||(e.value!==t.value?t.setErrors({mustMatch:!0}):t.setErrors(null))}}export{v as a,S as b,I as c,k as d};
